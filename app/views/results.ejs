<% include header %>



<div class="container">
  <div class="table-responsive">
    <table class="table table-striped">
      <thead>
      <tr>
        <th>#</th>
        <th>Document</th>
        <th>Similarity</th>
      </tr>
      </thead>
      <tbody>
      <% for(var i=0; i<docs.length; i++) {%>
      <tr>
        <td><%= i %></td>
        <td><a id="detail" value="<%= docs[i][0] %>" href="#"><%= docs[i][0] %></a></td>
        <td><%= docs[i][1] %></td>
      </tr>
      <% } %>
      </tbody>
    </table>
  </div>


  <!-- Main component for a primary marketing message or call to action -->
  <div class="jumbotron">
    <h1>Inverted index</h1>
    <p>This example is a quick exercise to illustrate how the default, static and fixed to top navbar work. It includes the responsive CSS and HTML, so it also adapts to your viewport and device.</p>
    <p>To see the difference between static and fixed top navbars, just scroll.</p>
    <p>
      <a class="btn btn-lg btn-primary" href="../../components/#navbar" role="button">View navbar docs &raquo;</a>
    </p>

  </div>

</div> <!-- /container -->


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
<script src="../../public/js/bootstrap.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>

<script>
  $('document').ready(function () {
    $('#detail').click(function () {
        var docname = $(this).attr('value');
      console.log('LLego a detail function');
      console.log(docname);
      $.ajax({
        url: '/docs',
        method: 'POST',
        data: {doc: docname},
        success: function (user) {
          console.log("User storage succeeded.");
          console.log(user);
        },
        error: function (error) {
          console.log("User storage failed.");
          console.log(error);
          alert("Ocurrió un error registrando tus datos. Actualiza la página y vuelve " +
            "a intentarlo.");
        }
      });
    });
  });
</script>

<% include footer %>
